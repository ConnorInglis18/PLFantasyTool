(window["webpackJsonpdads-spreadsheet"]=window["webpackJsonpdads-spreadsheet"]||[]).push([[0],{13:function(e,r,t){},14:function(e,r,t){},15:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),l=t(2),s=t.n(l),o=(t(13),t(3)),i=t(4),u=t(6),c=t(5),f=t(7),d=(t(14),function(e){function r(e){var t;return Object(o.a)(this,r),(t=Object(u.a)(this,Object(c.a)(r).call(this,e))).getPlayers=function(){var e={};return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/bootstrap-static/").then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(r){var t=r.elements,a=!0,n=!1,l=void 0;try{for(var s,o=t[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var i=s.value;e[i.id]=i.web_name}}catch(u){n=!0,l=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}}).catch(function(e){return console.log(e)}),e},t.addGameInfo=function(e,r){var t=g[e.team_h],a=g[e.team_a],n=e.finished,l=parseInt(e.event)-1;if(null===r.fixtures[t][l]?r.fixtures[t][l]=[{opp:a,isFinished:n}]:r.fixtures[t][l]=[r.fixtures[t][l][0],{opp:a,isFinished:n}],null===r.fixtures[a][l]?r.fixtures[a][l]=[{opp:t,isFinished:n}]:r.fixtures[a][l]=[r.fixtures[a][l][0],{opp:t,isFinished:n}],n){var s=e.team_h_score,o=e.team_a_score;r.gf[t]+=s,r.ga[t]+=o,r.gf[a]+=o,r.ga[a]+=s}return r},t.getSchedule=function(){var e={fixtures:{ARS:new Array(38).fill(null),AVL:new Array(38).fill(null),BOU:new Array(38).fill(null),BHA:new Array(38).fill(null),BUR:new Array(38).fill(null),CHE:new Array(38).fill(null),CRY:new Array(38).fill(null),EVE:new Array(38).fill(null),LEI:new Array(38).fill(null),LIV:new Array(38).fill(null),MCY:new Array(38).fill(null),MUN:new Array(38).fill(null),NEW:new Array(38).fill(null),NOR:new Array(38).fill(null),SHE:new Array(38).fill(null),SOU:new Array(38).fill(null),TOT:new Array(38).fill(null),WAT:new Array(38).fill(null),WHU:new Array(38).fill(null),WOL:new Array(38).fill(null)},gf:{ARS:0,AVL:0,BOU:0,BHA:0,BUR:0,CHE:0,CRY:0,EVE:0,LEI:0,LIV:0,MCY:0,MUN:0,NEW:0,NOR:0,SHE:0,SOU:0,TOT:0,WAT:0,WHU:0,WOL:0},ga:{ARS:0,AVL:0,BOU:0,BHA:0,BUR:0,CHE:0,CRY:0,EVE:0,LEI:0,LIV:0,MCY:0,MUN:0,NEW:0,NOR:0,SHE:0,SOU:0,TOT:0,WAT:0,WHU:0,WOL:0},defendersDisplay:{},attackersDisplay:{},gfColors:[],gaColors:[]};return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/fixtures/").then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(r){var a=!0,n=!1,l=void 0;try{for(var s,o=r[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var i=s.value;e=t.addGameInfo(i,e)}}catch(u){n=!0,l=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}t.createAttackersDisplay(e),t.createDefendersDisplay(e),t.createColorBrackets(e),t.setState({gfColors:e.gfColors,gaColors:e.gaColors})}).catch(function(e){return console.log(e)}),e},t.canMakeSubsets=function(e,r,t){for(var a=0,n=e[0]+t,l=0;l<e.length;++l)e[l]>n&&(a+=1,n=e[l]+t);return a<r},t.makeSubsets=function(e,r){var t=[],a=[];a.push(e[0]),a.push(e[0]+r),t.push(a);for(var n=e[0]+r,l=0;l<e.length;++l)e[l]>n&&((a=[]).push(e[l]),a.push(e[l]+r),t.push(a),n=e[l]+r);return t},t.createColorBrackets=function(e){for(var r=Object.values(e.gf).sort(),a=Math.max.apply(null,r),n=Math.min.apply(null,r),l=Math.ceil((a-n)/5)+1;t.canMakeSubsets(r,5,l-1);)l-=1;e.gfColors=t.makeSubsets(r,l);var s=e.gfColors[0];e.gfColors[0]=e.gfColors[4],e.gfColors[4]=s,s=e.gfColors[1],e.gfColors[1]=e.gfColors[3],e.gfColors[3]=s;for(var o=Object.values(e.ga).sort(),i=Math.max.apply(null,o),u=Math.min.apply(null,o),c=Math.ceil((i-u)/5)+1;t.canMakeSubsets(o,5,c-1);)c-=1;e.gaColors=t.makeSubsets(o,c)},t.createDefendersDisplay=function(e){var r=e.fixtures,t=e.defendersDisplay,a=e.gf;Object.keys(r).forEach(function(e){t[e]=new Array(38);for(var n=0;n<38;++n)if(null===r[e][n])t[e][n]=-1;else if(r[e][n].length>1){var l=r[e][n][0].isFinished?-1:a[r[e][n][0].opp],s=r[e][n][1].isFinished?-1:a[r[e][n][1].opp];t[e][n]=l+" "+s}else t[e][n]=r[e][n][0].isFinished?-1:a[r[e][n][0].opp]})},t.createAttackersDisplay=function(e){var r=e.fixtures,t=e.attackersDisplay,a=e.ga;Object.keys(r).forEach(function(e){t[e]=new Array(38);for(var n=0;n<38;++n)if(null===r[e][n])t[e][n]=-1;else if(r[e][n].length>1){var l=r[e][n][0].isFinished?-1:a[r[e][n][0].opp],s=r[e][n][1].isFinished?-1:a[r[e][n][1].opp];t[e][n]=l+" "+s}else t[e][n]=r[e][n][0].isFinished?-1:a[r[e][n][0].opp]})},t.getColor=function(e,r){switch(!0){case r[0][0]<=e&&e<=r[0][1]:return y.darkred;case r[1][0]<=e&&e<=r[1][1]:return y.red;case r[2][0]<=e&&e<=r[2][1]:return y.grey;case r[3][0]<=e&&e<=r[3][1]:return y.green;case r[4][0]<=e&&e<=r[4][1]:return y.darkgreen;default:return y.darkgrey}},t.createTable=function(e,r){return Object.keys(r).map(function(a){return n.a.createElement("tr",{key:a,style:y.tableRow},n.a.createElement("th",null,a),r[a].map(function(r,a){return"number"===typeof r?n.a.createElement("td",{key:a,style:Object.assign({},t.getColor(r,e),y.tableData)},r):n.a.createElement("td",{key:a,style:Object.assign({},y.tableData,y.doubleGame)},n.a.createElement("div",{style:t.getColor(parseInt(r.substring(0,2)),e)},r.substring(0,2)),n.a.createElement("div",{style:t.getColor(parseInt(r.substring(3,5)),e)},r.substring(3,5)))}))})},t.createHeaders=function(){var e=[];e.push("TEAM");for(var r=1;r<39;++r)r<10?e.push("0"+r):e.push(r);var t=e.map(function(e){return n.a.createElement("th",{key:e,style:y.column},e)});return n.a.createElement("tr",null,t)},t.renderScreen=function(){return n.a.createElement("div",null,n.a.createElement("div",null,"Used for Defense",n.a.createElement("table",null,n.a.createElement("tbody",null,t.createHeaders(),t.createTable(t.state.gfColors,t.state.defendersDisplay)))),n.a.createElement("div",null,"Used for Offense",n.a.createElement("table",null,n.a.createElement("tbody",null,t.createHeaders(),t.createTable(t.state.gaColors,t.state.attackersDisplay)))))},t.state={fixtures:null,gf:[],ga:[],playersDict:null,defendersDisplay:[],attackersDisplay:[],gfColors:[],gaColors:[]},t}return Object(f.a)(r,e),Object(i.a)(r,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this.getPlayers(),r=this.getSchedule(),t=r.fixtures,a=r.gf,n=r.ga,l=r.defendersDisplay,s=r.attackersDisplay,o=r.gfColors,i=r.gaColors;this.setState({playersDict:e,fixtures:t,gf:a,ga:n,defendersDisplay:l,attackersDisplay:s,gfColors:o,gaColors:i})}},{key:"render",value:function(){return 0===this.state.gfColors.length&&0===this.state.attackersDisplay.length&&0===this.state.defendersDisplay.length?n.a.createElement("div",null,"Loading Page..."):this.renderScreen()}}]),r}(a.Component)),y={column:{justifyContent:"center"},tableData:{height:"34px",width:"30px",textAlign:"center",border:"1px solid black",fontSize:".9em"},doubleGame:{background:"yellow",border:"1px solid red"},darkgrey:{background:"darkgrey",color:"darkgrey"},darkred:{background:"#861D46",color:"white"},red:{background:"#FF005A",color:"white"},grey:{background:"#EBEBE4"},green:{background:"#00ff86"},darkgreen:{background:"#02894E",color:"white"},yellow:{background:"yellow"}},g={1:"ARS",2:"AVL",3:"BOU",4:"BHA",5:"BUR",6:"CHE",7:"CRY",8:"EVE",9:"LEI",10:"LIV",11:"MCY",12:"MUN",13:"NEW",14:"NOR",15:"SHE",16:"SOU",17:"TOT",18:"WAT",19:"WHU",20:"WOL"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,r,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.983bc5df.chunk.js.map