(window["webpackJsonpdads-spreadsheet"]=window["webpackJsonpdads-spreadsheet"]||[]).push([[0],{33:function(e,t,a){e.exports=a(44)},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(10),o=a.n(l),i=(a(38),a(15)),s=a(16),c=a(21),u=a(17),f=a(22),d=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getColor=function(e,t){switch(!0){case t[0][0]<=e&&e<=t[0][1]:return p.darkred;case t[1][0]<=e&&e<=t[1][1]:return p.red;case t[2][0]<=e&&e<=t[2][1]:return p.grey;case t[3][0]<=e&&e<=t[3][1]:return p.green;case t[4][0]<=e&&e<=t[4][1]:return p.darkgreen;default:return p.darkgrey}},a.createTable=function(e,t){return Object.keys(t).map((function(r){return n.a.createElement("tr",{key:r},n.a.createElement("th",null,r),t[r].map((function(t,r){return"number"===typeof t?n.a.createElement("td",{key:r,style:Object.assign({},a.getColor(t,e),p.tableData)},t):n.a.createElement("td",{key:r,style:p.doubleGame},n.a.createElement("div",{style:Object.assign({},a.getColor(parseInt(t.substring(0,2)),e),p.doubleGameData)},t.substring(0,2)),n.a.createElement("div",{style:Object.assign({},a.getColor(parseInt(t.substring(3,5)),e),p.doubleGameData)},t.substring(3,5)))})))}))},a.createHeaders=function(){var e=[];e.push("");for(var t=1;t<39;++t)t<10?e.push("0"+t):e.push(t);var a=e.map((function(e){return n.a.createElement("th",{key:e,style:p.column},e)}));return n.a.createElement("tr",null,a)},a.state={fixtures:null,gf:[],ga:[],playersDict:null,defendersDisplay:[],attackersDisplay:[],gfColors:[],gaColors:[]},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{style:p.background},n.a.createElement("table",null,n.a.createElement("tbody",null,this.createHeaders(),this.createTable(this.props.colors,this.props.display))))}}]),t}(r.Component),p={background:{padding:"2vh 2vw",display:"flex",flexFlow:"column no-wrap",alignItems:"stretch",background:"lightgrey"},column:{textAlign:"center"},tableData:{height:"4vh",width:"2.2vw",textAlign:"center",border:"1px solid black",fontSize:"1vw"},doubleGame:{border:"1px solid black",width:"2.2vw"},doubleGameData:{height:"2vh",fontSize:".75vw",display:"flex",alignItems:"center",justifyContent:"center"},darkgrey:{background:"darkgrey",color:"darkgrey"},darkred:{background:"#861D46",color:"white"},red:{background:"#FF005A",color:"white"},grey:{background:"#EBEBE4"},green:{background:"#00ff86"},darkgreen:{background:"#02894E",color:"white"}},h=a(26),g=a(27),m=a(66),y=a(45),b=a(67),v=a(68),k=Object(g.a)((function(e){return{home:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},homeContent:Object(h.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function w(e){var t=k(),a=e.post;return n.a.createElement(m.a,{className:t.home,style:{backgroundImage:"url(".concat(a.image,")")}},n.a.createElement("img",{style:{display:"none"},src:a.image,alt:a.imageText}),n.a.createElement("div",{className:t.overlay}),n.a.createElement(b.a,{container:!0},n.a.createElement(b.a,{item:!0,md:6},n.a.createElement("div",{className:t.homeContent},n.a.createElement(y.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},a.title),n.a.createElement(y.a,{variant:"h5",color:"inherit",paragraph:!0},a.description),n.a.createElement(v.a,{variant:"subtitle1",href:"#"},a.linkText)))))}var E=a(69),C=a(72),A=Object(g.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0}}}));function D(e){var t=A(),a=e.sections,r=e.title;return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,{className:t.toolbar},n.a.createElement(C.a,{size:"small"},"Subscribe"),n.a.createElement(y.a,{component:"h2",variant:"h5",color:"inherit",align:"center",noWrap:!0,className:t.toolbarTitle},r),n.a.createElement(C.a,{variant:"outlined",size:"small"},"Sign up")),n.a.createElement(E.a,{component:"nav",variant:"dense",className:t.toolbarSecondary},a.map((function(e){return n.a.createElement(v.a,{color:"inherit",noWrap:!0,key:e.title,variant:"body2",href:"#",className:t.toolbarLink,onClick:e.onClick},e.title)}))))}var O=a(71),S=a(70),x=(a(43),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).isMobile=function(){var e="undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile");a.setState({isMobile:e})},a.getPlayers=function(){var e={};return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/bootstrap-static/").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){var a=t.elements,r=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;e[s.id]=s.web_name}}catch(c){n=!0,l=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}})).catch((function(e){return console.log(e)})),e},a.addGameInfo=function(e,t){var a=M[e.team_h],r=M[e.team_a],n=e.finished;if(null!=e.event){var l=parseInt(e.event)-1;if(null===t.fixtures[a][l]?t.fixtures[a][l]=[{opp:r,isFinished:n}]:t.fixtures[a][l]=[t.fixtures[a][l][0],{opp:r,isFinished:n}],null===t.fixtures[r][l]?t.fixtures[r][l]=[{opp:a,isFinished:n}]:t.fixtures[r][l]=[t.fixtures[r][l][0],{opp:a,isFinished:n}],n){var o=e.team_h_score,i=e.team_a_score;t.gf[a]+=o,t.ga[a]+=i,t.gf[r]+=i,t.ga[r]+=o}}return t},a.getSchedule=function(){var e={fixtures:{ARS:new Array(38).fill(null),AVL:new Array(38).fill(null),BOU:new Array(38).fill(null),BHA:new Array(38).fill(null),BUR:new Array(38).fill(null),CHE:new Array(38).fill(null),CRY:new Array(38).fill(null),EVE:new Array(38).fill(null),LEI:new Array(38).fill(null),LIV:new Array(38).fill(null),MCY:new Array(38).fill(null),MUN:new Array(38).fill(null),NEW:new Array(38).fill(null),NOR:new Array(38).fill(null),SHE:new Array(38).fill(null),SOU:new Array(38).fill(null),TOT:new Array(38).fill(null),WAT:new Array(38).fill(null),WHU:new Array(38).fill(null),WOL:new Array(38).fill(null)},gf:{ARS:0,AVL:0,BOU:0,BHA:0,BUR:0,CHE:0,CRY:0,EVE:0,LEI:0,LIV:0,MCY:0,MUN:0,NEW:0,NOR:0,SHE:0,SOU:0,TOT:0,WAT:0,WHU:0,WOL:0},ga:{ARS:0,AVL:0,BOU:0,BHA:0,BUR:0,CHE:0,CRY:0,EVE:0,LEI:0,LIV:0,MCY:0,MUN:0,NEW:0,NOR:0,SHE:0,SOU:0,TOT:0,WAT:0,WHU:0,WOL:0},defendersDisplay:{},attackersDisplay:{},gfColors:[],gaColors:[]};return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/fixtures/").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){var r=!0,n=!1,l=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;e=a.addGameInfo(s,e)}}catch(c){n=!0,l=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw l}}a.createAttackersDisplay(e),a.createDefendersDisplay(e),a.createColorBrackets(e),a.setState({gfColors:e.gfColors,gaColors:e.gaColors})})).catch((function(e){return console.log(e)})),e},a.canMakeSubsets=function(e,t,a){for(var r=0,n=e[0]+a,l=0;l<e.length;++l)e[l]>n&&(r+=1,n=e[l]+a);return r<t},a.makeSubsets=function(e,t){var a=[],r=[];r.push(e[0]),r.push(e[0]+t),a.push(r);for(var n=e[0]+t,l=0;l<e.length;++l)e[l]>n&&((r=[]).push(e[l]),r.push(e[l]+t),a.push(r),n=e[l]+t);return a},a.createColorBrackets=function(e){for(var t=Object.values(e.gf).sort(),r=Math.max.apply(null,t),n=Math.min.apply(null,t),l=Math.ceil((r-n)/5)+1;a.canMakeSubsets(t,5,l-1);)l-=1;e.gfColors=a.makeSubsets(t,l);var o=e.gfColors[0];e.gfColors[0]=e.gfColors[4],e.gfColors[4]=o,o=e.gfColors[1],e.gfColors[1]=e.gfColors[3],e.gfColors[3]=o;for(var i=Object.values(e.ga).sort(),s=Math.max.apply(null,i),c=Math.min.apply(null,i),u=Math.ceil((s-c)/5)+1;a.canMakeSubsets(i,5,u-1);)u-=1;e.gaColors=a.makeSubsets(i,u)},a.createDefendersDisplay=function(e){var t=e.fixtures,a=e.defendersDisplay,r=e.gf;Object.keys(t).forEach((function(e){a[e]=new Array(38);for(var n=0;n<38;++n)if(null===t[e][n])a[e][n]=-1;else if(t[e][n].length>1){var l=t[e][n][0].isFinished?-1:r[t[e][n][0].opp],o=t[e][n][1].isFinished?-1:r[t[e][n][1].opp];a[e][n]=l+" "+o}else a[e][n]=t[e][n][0].isFinished?-1:r[t[e][n][0].opp]}))},a.createAttackersDisplay=function(e){var t=e.fixtures,a=e.attackersDisplay,r=e.ga;Object.keys(t).forEach((function(e){a[e]=new Array(38);for(var n=0;n<38;++n)if(null===t[e][n])a[e][n]=-1;else if(t[e][n].length>1){var l=t[e][n][0].isFinished?-1:r[t[e][n][0].opp],o=t[e][n][1].isFinished?-1:r[t[e][n][1].opp];a[e][n]=l+" "+o}else a[e][n]=t[e][n][0].isFinished?-1:r[t[e][n][0].opp]}))},a.showDefenders=function(e){a.setState({view:"Defenders"})},a.showAttackers=function(e){a.setState({view:"Attackers"})},a.showHome=function(e){a.setState({view:"Home"})},a.showDisplay=function(){return"Defenders"===a.state.view?n.a.createElement(d,{colors:a.state.gfColors,display:a.state.defendersDisplay}):"Attackers"===a.state.view?n.a.createElement(d,{colors:a.state.gaColors,display:a.state.attackersDisplay}):"Home"===a.state.view?n.a.createElement(w,{post:{title:"FPL Scheduling Tool",description:"This tool shows the goals for and against, rather than the opponent they are playing",image:"./PL_Banner.jpg",imgText:"",linkText:""}}):n.a.createElement("div",null,"Loading...")},a.renderDesktopScreen=function(){var e=[{title:"",onClick:a.showHome},{title:"Home",onClick:a.showHome},{title:" ",onClick:a.showHome},{title:"Defenders",onClick:a.showDefenders},{title:"  ",onClick:a.showDefenders},{title:"Attackers",onClick:a.showAttackers},{title:"  ",onClick:a.showAttackers}];return n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,null),n.a.createElement(O.a,{maxWidth:"lg"},n.a.createElement(D,{title:"FPL Tool",sections:e}),a.showDisplay()))},a.renderMobileScreen=function(){return n.a.createElement("div",null,"Mobile site being developed ",a.renderDesktopScreen())},a.state={fixtures:null,gf:[],ga:[],playersDict:null,defendersDisplay:[],attackersDisplay:[],gfColors:[],gaColors:[],view:"Home",isMobile:!1},a}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.isMobile()}},{key:"loadData",value:function(){var e=this.getPlayers(),t=this.getSchedule(),a=t.fixtures,r=t.gf,n=t.ga,l=t.defendersDisplay,o=t.attackersDisplay,i=t.gfColors,s=t.gaColors;this.setState({playersDict:e,fixtures:a,gf:r,ga:n,defendersDisplay:l,attackersDisplay:o,gfColors:i,gaColors:s})}},{key:"render",value:function(){return this.state.isMobile?this.renderMobileScreen():this.renderDesktopScreen()}}]),t}(r.Component)),M={1:"ARS",2:"AVL",3:"BOU",4:"BHA",5:"BUR",6:"CHE",7:"CRY",8:"EVE",9:"LEI",10:"LIV",11:"MCY",12:"MUN",13:"NEW",14:"NOR",15:"SHE",16:"SOU",17:"TOT",18:"WAT",19:"WHU",20:"WOL"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.b621a027.chunk.js.map