(this["webpackJsonpdads-spreadsheet"]=this["webpackJsonpdads-spreadsheet"]||[]).push([[0],{29:function(e,t,a){e.exports=a(40)},34:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),s=(a(34),a(12)),c=a(13),l=a(19),u=a(17),p=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).createTable=function(e){return Object.keys(e).map((function(t){return t=e[t],r.a.createElement("tr",{key:t.short_name},r.a.createElement("td",{style:Object.assign({},{background:t.goals.color},m.tableData)},t.goals.value),r.a.createElement("th",null,t.short_name),t.upcoming_fixtures.map((function(e,t){return 1===e.length?r.a.createElement("td",{key:t,style:Object.assign({},{background:e[0].color},m.tableData)},e[0].value):0===e.length?r.a.createElement("td",{key:t,style:Object.assign({},m.darkgrey,m.tableData)}):r.a.createElement("td",{key:t,style:m.doubleGame},r.a.createElement("div",{style:Object.assign({},{background:e[0].color},m.doubleGameData)},e[0].value),r.a.createElement("div",{style:Object.assign({},{background:e[1].color},m.doubleGameData)},e[1].value))})))}))},e.createHeaders=function(e,t){var a=[];"DEFENDERS"===e?a.push("GA"):a.push("GF"),a.push("Team");for(var n=t;n<39;++n)n<10?a.push("0"+n):a.push(n);var o=a.map((function(e){return r.a.createElement("th",{key:e,style:m.column},e)}));return r.a.createElement("tr",null,o)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:m.background},r.a.createElement("table",null,r.a.createElement("tbody",null,this.createHeaders(this.props.type,this.props.upcomingGameweek),this.createTable(this.props.display))))}}]),a}(n.Component),m={background:{padding:"2vh 2vw",display:"flex",flexFlow:"column no-wrap",alignItems:"stretch",background:"lightgrey",overflowX:"auto"},column:{textAlign:"center"},tableData:{height:"4vh",width:"2.2vw",textAlign:"center",border:"1px solid black",fontSize:"1vw"},doubleGame:{border:"1px solid black",width:"2.2vw"},doubleGameData:{height:"2vh",fontSize:".75vw",display:"flex",alignItems:"center",justifyContent:"center"},darkgrey:{background:"darkgrey",color:"darkgrey"}},h=a(21),d=a(58),f=a(60),g=a(62),v=a(61),k=a(66),y=Object(d.a)((function(e){return{home:{position:"relative",backgroundColor:e.palette.grey[800],color:e.palette.common.white,marginBottom:e.spacing(4),backgroundImage:"url(https://source.unsplash.com/random)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.3)"},homeContent:Object(h.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}}));function b(e){var t=y(),a=e.post;return r.a.createElement(f.a,{className:t.home,style:{backgroundImage:"url(".concat(a.image,")")}},r.a.createElement("img",{style:{display:"none"},src:a.image,alt:a.imageText}),r.a.createElement("div",{className:t.overlay}),r.a.createElement(v.a,{container:!0},r.a.createElement(v.a,{item:!0,md:6},r.a.createElement("div",{className:t.homeContent},r.a.createElement(g.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0},a.title),r.a.createElement(g.a,{variant:"h5",color:"inherit",paragraph:!0},a.description),r.a.createElement(k.a,{variant:"subtitle1",href:"#"},a.linkText)),r.a.createElement("div",{className:t.homeContent},"Hello"))))}var w=a(63),E=Object(d.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},toolbarSecondary:{justifyContent:"space-between",overflowX:"auto"},toolbarLink:{padding:e.spacing(1),flexShrink:0}}}));function _(e){var t=E(),a=e.sections;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{component:"nav",variant:"dense",className:t.toolbarSecondary},a.map((function(e){return r.a.createElement(k.a,{title:e.title,color:"inherit",noWrap:!0,key:e.title,variant:"body2",href:"#",className:t.toolbarLink,onClick:e.onClick},e.title)}))))}var D=a(65),x=a(64),j=function(e,t,a){for(var n in e){var r=(n=e[n]).finished;if(null!=n.event){var o=parseInt(n.event),i=n.team_h,s=n.team_a,c=o<a?"previous_opponents":"future_opponents";if(t[i][c][o].push(s),t[s][c][o].push(i),r){var l=n.team_h_score,u=n.team_a_score;t[i].gf+=l,t[i].ga+=u,t[s].gf+=u,t[s].ga+=l}}}return t},O=a(23),C=1,T=2;function G(e,t,a,n){var r,o,i;if(Math.abs(t-e)<=.5)i=100,o=100,r=100;else if(e>t&&n===C||e<t&&n===T){var s=40/a;i=122,o=75,r=75-Math.abs(e-t)*s}else{var c=31/a;i=0,o=84,r=85-Math.abs(e-t)*c}return"hsl(".concat(i,", ").concat(o,"%, ").concat(r,"%)")}var S=function(){var e;return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/bootstrap-static/").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(t){return e=function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(!0===n.is_next)return n.id}}catch(r){a.e(r)}finally{a.f()}return console.error("handleEvents has not found the current gameweek"),console.error("I have not error handled the first or last week of the season as I'm not sure how FPL sends the data"),1}(t.events),function(e,t){return fetch("https://cors-anywhere.herokuapp.com/https://fantasy.premierleague.com/api/fixtures/").then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(a){return j(a,e,t)})).catch((function(e){return console.log(e)}))}(function(e,t){var a={};for(var n in e){var r=e[n].id;a[r]={short_name:e[n].short_name,gf:0,ga:0,previous_opponents:{},future_opponents:{}};for(var o=1;o<t;++o)a[r].previous_opponents[o]=[];for(var i=t;i<39;++i)a[r].future_opponents[i]=[]}return a}(t.teams,e),e)})).then((function(t){return function(e,t){var a=[],n=[];for(var r in e)a.push(e[r].gf),n.push(e[r].ga);a.sort((function(e,t){return e-t})),n.sort((function(e,t){return e-t}));var o=(a[9]+a[10])/2,i=(n[9]+n[10])/2,s=Math.max(o-a[0],a[19]-o),c=Math.max(i-n[0],n[19]-i),l={defenders_display:[],attackers_display:[],upcoming_gameweek:t};for(var u in e){u=e[u];var p={},m={};p.short_name=u.short_name,m.short_name=u.short_name;var h=[],d=[],f=function(t){var a=[],n=[];u.future_opponents[t].forEach((function(t){var r=e[t].gf,l=e[t].ga,u={value:r,color:G(r,o,s,T)},p={value:l,color:G(l,i,c,C)};a.push(u),n.push(p)})),h.push(a),d.push(n)};for(var g in u.future_opponents)f(g);p.upcoming_fixtures=h,m.upcoming_fixtures=d,p.goals={value:u.ga,color:G(u.ga,i,c,T)},m.goals={value:u.gf,color:G(u.gf,o,s,C)},l.defenders_display.push(p),l.attackers_display.push(m)}return l}(t,e)})).catch((function(e){return console.log(e)}))},F=(a(39),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).selectView=function(e){e.preventDefault(),n.setState({view:e.target.title})},n.showDisplay=function(){return"Defenders"===n.state.view?r.a.createElement(p,{display:n.state.defendersDisplay,upcomingGameweek:n.state.upcomingGameweek,type:"DEFENDERS"}):"Attackers"===n.state.view?r.a.createElement(p,{display:n.state.attackersDisplay,upcomingGameweek:n.state.upcomingGameweek,type:"ATTACKERS"}):"Home"===n.state.view?r.a.createElement(b,{post:{title:"FPL Scheduling Tool",description:"This tool shows the goals for and against, rather than the opponent they are playing",image:"./PL_Banner.jpg",imgText:"",linkText:""}}):r.a.createElement("div",null,"Error")},n.renderDesktopScreen=function(){var e=[{title:"Home",onClick:n.selectView},{title:"Defenders",onClick:n.selectView},{title:"Attackers",onClick:n.selectView}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null),r.a.createElement(D.a,{maxWidth:"lg"},r.a.createElement(_,{title:"FPL Tool",sections:e}),n.showDisplay()))},n.state={defendersDisplay:[],attackersDisplay:[],upcomingGameweek:1,view:"Home"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;S().then((function(t){e.setState({defendersDisplay:t.defenders_display,attackersDisplay:t.attackers_display,upcomingGameweek:t.upcoming_gameweek})}))}},{key:"render",value:function(){return this.renderDesktopScreen()}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(F,{displayUrl:"http://127.0.0.1:5000/mainDisplays"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.c54324d4.chunk.js.map