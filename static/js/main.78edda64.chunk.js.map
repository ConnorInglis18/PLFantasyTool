{"version":3,"sources":["Cell.js","Table.js","Home.js","Header.js","backend/consts.js","backend/userTeam.js","UserTeam.js","backend/fixtures.js","backend/players.js","backend/bootstrap.js","backend/displays.js","backend/getFormData.js","App.js","serviceWorker.js","index.js"],"names":["Cell","weekArray","this","props","length","style","Object","assign","background","styles","tableData","darkgrey","doubleGame","doubleGameData","Component","height","width","textAlign","border","fontSize","padding","margin","display","alignItems","justifyContent","color","Table","createTable","keys","map","team","key","index","type","createHeaders","upcomingGameweek","headers","push","i","mappedHeaders","header","column","flexFlow","overflowX","useStyles","makeStyles","theme","home","position","backgroundColor","palette","grey","common","white","marginBottom","spacing","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","bottom","right","left","homeContent","breakpoints","up","paddingRight","Home","classes","post","refreshData","Paper","className","image","src","alt","imageText","Grid","container","item","md","Typography","component","variant","gutterBottom","title","paragraph","description","Link","href","linkText","onClick","toolbar","borderBottom","divider","toolbarTitle","flex","toolbarSecondary","toolbarLink","flexShrink","Header","sections","Fragment","Toolbar","section","noWrap","BOOTSTRAP_URL","FIXTURES_URL","createUserTeamsDisplay","backendData","JSON","parse","localStorage","getItem","players","defendersDisplay","attackersDisplay","userTeams","setItem","stringify","getUserTeams","userTeamsDisplay","forEach","userTeamDisplay","playerId","playerDisplay","teamId","element_type","name","UserTeam","addPlayerToUserTeam","e","preventDefault","target","id","playerElt","document","getElementById","originalBackgroundColor","getPropertyValue","teamIndex","indexOf","isPlayerInUserTeam","state","currentTeamIndex","setProperty","green","setTimeout","setState","headerRow","removePlayerFromUserTeam","currentTeam","splice","handleTeamNameChange","teamName","value","handleTeamNameSubmit","createTeam","changeCurrentTeam","orderedPlayers","onSubmit","onChange","teamInfo","teamButton","selectedTeam","newTeamForm","teamSelection","positionGroup","numberColumn","playerColumn","fixturesColumn","tableBody","player","evenRow","oddRow","buttonPadding","circleButton","red","playerSelectionArea","playerList","playerHeader","alignLeft","paddingBottom","float","paddingTop","marginTop","cursor","overflow","outline","marginLeft","fontWeight","verticalAlign","borderRadius","paddingLeft","updateTeamInfo","teams","responseObject","console","log","fetch","then","response","ok","Error","statusText","json","data","handleFixtures","catch","error","fixtures","fixture","isFinished","gameweek","parseInt","homeId","awayId","segment","homeScore","awayScore","handlePlayers","playerDict","handleCost","sort","a","b","cost","lastIndex","toString","substring","handleEvents","weeks","week","handleTeams","teamDict","ColorBarsType","createDisplays","gfArray","gaArray","medianGf","medianGa","gfMaxDistanceFromMedian","Math","max","gaMaxDistanceFromMedian","defendersUpcomingFixtures","attackersUpcomingFixtures","defendersWeekArray","attackersWeekArray","oppId","oppGf","oppGa","defenderGameObject","getColor","attackerGameObject","goals","medianGoals","maxDistanceFromMedian","colorBarsType","lightness","sat","hue","abs","lightnessConstant","fetchData","updateTimes","now","Date","dateString","split","fixtureDate","newUpdateTimes","slice","isBackendDataStale","handlePlayersObj","Promise","resolve","reject","App","selectView","event","view","showDisplay","loading","imgText","refresh","renderDesktopScreen","CssBaseline","Container","maxWidth","res","Boolean","window","location","hostname","match","ReactDOM","render","displayUrl","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.78edda64.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nclass Cell extends Component {\n  render() {\n    const {weekArray} = this.props;\n    if (weekArray.length === 1) { // regular gameweek\n      return (\n        <td\n          style={Object.assign({}, { background: weekArray[0][\"color\"] }, styles.tableData)}\n        >\n          {weekArray[0][\"value\"]}\n        </td>\n      )\n    } else if (weekArray.length === 0) { // no games\n      return (\n        <td\n          style={Object.assign({}, styles.darkgrey, styles.tableData)}\n        ></td>\n      )\n    } else { // double game week\n      return (\n        <td style={styles.doubleGame}>\n          <div style={Object.assign({}, { background: weekArray[0][\"color\"] }, styles.doubleGameData)}>\n            {weekArray[0][\"value\"]}\n          </div>\n          <div style={Object.assign({}, { background: weekArray[1][\"color\"] }, styles.doubleGameData)}>\n            {weekArray[1][\"value\"]}\n          </div>\n        </td>\n      )\n    }\n  }\n}\n\nexport default Cell;\n\nconst styles = {\n  tableData: {\n    height: \"30px\",\n    width: \"2.2vw\",\n    textAlign: \"center\",\n    border: \"1px solid black\",\n    fontSize: \"1vw\",\n  },\n  doubleGame: {\n    border: \"1px solid black\",\n    width: \"2.2vw\",\n    height: \"30px\",\n    padding: \"0px\",\n  },\n  doubleGameData: {\n    height: \"15px\",\n    margin: \"0px\",\n    padding: \"0px\",\n    fontSize: \".75vw\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  darkgrey: {\n    background: \"darkgrey\",\n    color: \"darkgrey\",\n  },\n};\n","import React, { Component } from \"react\";\nimport Cell from './Cell';\n\nclass Table extends Component {\n  createTable = (display) => {\n    return Object.keys(display).map((team) => {\n      team = display[team];\n      return (\n        <tr key={team[\"short_name\"]}>\n          <td style={Object.assign({}, { background: team[\"goals\"][\"color\"] }, styles.tableData)} >\n            {team[\"goals\"][\"value\"]}\n          </td>\n          <th>{team[\"short_name\"]}</th>\n          {team[\"upcoming_fixtures\"].map((weekArray, index) => {\n            return (\n              <Cell\n                weekArray={weekArray}\n                key={`${team[\"short_name\"]}-${index}-${this.props.type}`}\n              />\n            )\n          })}\n        </tr>\n      );\n    });\n  };\n\n  createHeaders = (type, upcomingGameweek) => {\n    let headers = [];\n    (type === \"DEFENDERS\") ? headers.push(\"GA\") : headers.push(\"GF\");\n    \n    headers.push(\"Team\");\n    for (let i = upcomingGameweek; i < 39; ++i) {\n      i < 10 ? headers.push(\"0\" + i) : headers.push(i);\n    }\n    let mappedHeaders = headers.map((header) => {\n      return (\n        <th key={header} style={styles.column}>\n          {header}\n        </th>\n      );\n    });\n    return <tr>{mappedHeaders}</tr>;\n  };\n\n  render() {\n    return (\n      <div style={styles.background}>\n        <table>\n          <tbody>\n            {this.createHeaders(this.props.type, this.props.upcomingGameweek)}\n            {this.createTable(this.props.display)}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default Table;\n\nconst styles = {\n  background: {\n    padding: \"2vh 2vw\",\n    display: \"flex\",\n    flexFlow: \"column no-wrap\",\n    alignItems: \"stretch\",\n    background: \"lightgrey\",\n    overflowX: \"auto\",\n  },\n  column: {\n    textAlign: \"center\",\n  },\n  tableData: {\n    height: \"4vh\",\n    width: \"2.2vw\",\n    textAlign: \"center\",\n    border: \"1px solid black\",\n    fontSize: \"1vw\",\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles(theme => ({\n  home: {\n    position: 'relative',\n    backgroundColor: theme.palette.grey[800],\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(4),\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'rgba(0,0,0,.3)',\n  },\n  homeContent: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(6),\n      paddingRight: 0,\n    },\n  },\n}));\n\nexport default function Home(props) {\n  const classes = useStyles();\n  const { post, refreshData } = props;\n\n  return (\n    <Paper className={classes.home} style={{ backgroundImage: `url(${post.image})` }}>\n      {/* Increase the priority of the hero background image */}\n      {<img style={{ display: 'none' }} src={post.image} alt={post.imageText} />}\n      <div className={classes.overlay} />\n      <Grid container>\n        <Grid item md={6}>\n          <div className={classes.homeContent}>\n            <Typography component=\"h1\" variant=\"h3\" color=\"inherit\" gutterBottom>\n              {post.title}\n            </Typography>\n            <Typography variant=\"h5\" color=\"inherit\" paragraph>\n              {post.description}\n            </Typography>\n            <Link variant=\"subtitle1\" href=\"#\">\n              {post.linkText}\n            </Link>\n          </div>\n          <div className={classes.homeContent}>\n            <button onClick={refreshData}>\n              Refresh Data\n            </button>\n          </div>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n\nHome.propTypes = {\n  post: PropTypes.object,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\n// import Button from '@material-ui/core/Button';\n// import Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n  },\n  toolbarTitle: {\n    flex: 1,\n  },\n  toolbarSecondary: {\n    justifyContent: 'space-between',\n    overflowX: 'auto',\n  },\n  toolbarLink: {\n    padding: theme.spacing(1),\n    flexShrink: 0,\n  },\n}));\n\nexport default function Header(props) {\n  const classes = useStyles();\n  // const { sections, title } = props;\n  const { sections } = props;\n\n  return (\n    <React.Fragment>\n      {/* <Toolbar className={classes.toolbar}>\n        <Button size=\"small\">Subscribe</Button>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          className={classes.toolbarTitle}\n        >\n          {title}\n        </Typography>\n        <Button variant=\"outlined\" size=\"small\">\n          Sign up\n        </Button>\n      </Toolbar> */}\n      <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\n        {sections.map(section => (\n          <Link\n            title={section.title}\n            color=\"inherit\"\n            noWrap\n            key={section.title}\n            variant=\"body2\"\n            href={\"#\"}\n            className={classes.toolbarLink}\n            onClick={section.onClick}\n          >\n            {section.title}\n          </Link>\n        ))}\n      </Toolbar>\n    </React.Fragment>\n  );\n}\n\nHeader.propTypes = {\n  sections: PropTypes.array,\n  title: PropTypes.string,\n};","export const BOOTSTRAP_URL = \"https://pl-fantasy-tool-cors.herokuapp.com/https://fantasy.premierleague.com/api/bootstrap-static/\";\nexport const FIXTURES_URL = \"https://pl-fantasy-tool-cors.herokuapp.com/https://fantasy.premierleague.com/api/fixtures/\";\nexport const UPDATE_TIMES_KEY = \"UPDATE_TIMES\";\nexport const TEAM_DATA_KEY = \"USER_TEAMS\";\nexport const BACKEND_DATA_KEY = \"BACKEND_DATA\";","import { BACKEND_DATA_KEY, TEAM_DATA_KEY } from \"./consts\";\n\nexport const getUserTeams = () => {\n  let userTeams = localStorage.getItem(TEAM_DATA_KEY);\n  if (userTeams === null) {\n    localStorage.setItem(TEAM_DATA_KEY, JSON.stringify([]));\n    return []\n  } else {\n    return JSON.parse(userTeams);\n  }\n}\n\nexport const createUserTeamsDisplay = () => {\n  let backendData = JSON.parse(localStorage.getItem(BACKEND_DATA_KEY));\n  let players = backendData[\"players\"];\n  let defendersDisplay = backendData[\"defenders_display\"];\n  let attackersDisplay = backendData[\"attackers_display\"];\n  let userTeams = getUserTeams();\n  let userTeamsDisplay = []\n  userTeams.forEach(team => {\n    let userTeamDisplay = [[], [], [], []] // 4 arrays for 4 player types (goalkeepers = 1 / go in 0th array);\n    team[\"players\"].forEach(playerId => {\n      let playerDisplay = {}\n        playerDisplay[\"player_id\"] = playerId\n        playerDisplay[\"web_name\"] = players[playerId][\"web_name\"];\n        let teamId = players[playerId][\"team_id\"];\n        playerDisplay[\"team_id\"] = teamId;\n        playerDisplay[\"total_points\"] = players[playerId][\"total_points\"];\n        playerDisplay[\"now_cost\"] = players[playerId][\"now_cost\"];\n        // TODO: Add jerseys and team logo\n        const element_type = players[playerId][\"element_type\"];\n        if (element_type <= 2) { // defender or goalie\n          playerDisplay[\"upcoming_fixtures\"] = defendersDisplay[teamId-1][\"upcoming_fixtures\"]; // -1 b/c pl uses 1-index\n        } else { // midfielder or forward\n          playerDisplay[\"upcoming_fixtures\"] = attackersDisplay[teamId-1][\"upcoming_fixtures\"]; // -1 b/c pl uses 1-index\n        }\n        // put the player in the proper position array (goalie element type 1 goes in 0th indexed array)\n        userTeamDisplay[element_type-1].push(playerDisplay); // -1 b/c pl uses 1-index\n    })\n    userTeamsDisplay.push({name: team[\"name\"], players: userTeamDisplay});\n  })\n  return userTeamsDisplay;\n}\n\nexport const createTeam = (teamName) => {\n  let userTeams = localStorage.getItem(TEAM_DATA_KEY);\n  userTeams = JSON.parse(userTeams)\n  userTeams.push({\n    name: teamName,\n    players: [],\n  });\n  localStorage.setItem(TEAM_DATA_KEY, JSON.stringify(userTeams));\n  return createUserTeamsDisplay();\n}\n\nexport const addPlayerToUserTeam = (playerId, teamIndex) => {\n  let userTeams = localStorage.getItem(TEAM_DATA_KEY);\n  userTeams = JSON.parse(userTeams);\n  userTeams[teamIndex][\"players\"].push(playerId)\n  localStorage.setItem(TEAM_DATA_KEY, JSON.stringify(userTeams));\n  return createUserTeamsDisplay();\n}\n\nexport const removePlayerFromUserTeam = (playerId, teamIndex) => {\n  let userTeams = localStorage.getItem(TEAM_DATA_KEY);\n  userTeams = JSON.parse(userTeams);\n  let currentTeam = userTeams[teamIndex];\n  const index = currentTeam[\"players\"].indexOf(playerId);\n  if (index !== -1) { // make sure the item exists in list (it should)\n    currentTeam[\"players\"].splice(index, 1); // remove element\n  }\n  userTeams[teamIndex] = currentTeam;\n  localStorage.setItem(TEAM_DATA_KEY, JSON.stringify(userTeams));\n  return createUserTeamsDisplay();\n}\n\nexport const isPlayerInUserTeam = (playerId, teamIndex) => {\n  let userTeams = localStorage.getItem(TEAM_DATA_KEY);\n  userTeams = JSON.parse(userTeams);\n  let currentTeam = userTeams[teamIndex];\n  const index = currentTeam[\"players\"].indexOf(playerId);\n  return index === -1\n}","import React, { Component } from \"react\";\nimport Cell from './Cell';\nimport { createTeam, addPlayerToUserTeam, removePlayerFromUserTeam, isPlayerInUserTeam, createUserTeamsDisplay } from \"./backend/userTeam\";\n// import PropTypes from \"prop-types\";\n\nclass UserTeam extends Component {\n  constructor(props) {\n    super(props); // if there is a line striked through super, it's a bug on VS Code side\n    this.state = {\n      userTeams: [],\n      currentTeamIndex: 0,\n      teamName: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      userTeams: createUserTeamsDisplay(),\n    });\n  }\n\n  addPlayerToUserTeam = (e) => {\n    e.preventDefault();\n    const playerId = e.target.id;\n    // Get the element so a visual indicator can be shown to the user when the button is pressed\n    const playerElt = document.getElementById(\"addPlayer\"+playerId);\n    const originalBackgroundColor = playerElt.style.getPropertyValue(\"background-color\");\n    if (isPlayerInUserTeam(playerId, this.state.currentTeamIndex)) { // make sure the player does not already exist in the current team\n      // Give green flash visual indication the player was added\n      playerElt.style.setProperty(\"background-color\", styles.green.background);\n      setTimeout(() => {\n        playerElt.style.setProperty(\"background-color\", originalBackgroundColor);\n      }, 400);\n      // Add the player to the team\n      let userTeams = addPlayerToUserTeam(playerId, this.state.currentTeamIndex);\n      this.setState({\n        userTeams: userTeams,\n      });\n    } else {\n      // Give grey flash visual indication the player was already in the team\n      playerElt.style.setProperty(\"background-color\", styles.headerRow.background);\n      setTimeout(() => {\n        playerElt.style.setProperty(\"background-color\", originalBackgroundColor);\n      }, 400);\n    }\n  }\n\n  removePlayerFromUserTeam = (e) => {\n    e.preventDefault();\n    let userTeams = removePlayerFromUserTeam(e.target.id, this.state.currentTeamIndex);\n    this.setState({\n      userTeams: userTeams\n    });\n  }\n\n  handleTeamNameChange = (e) => {\n    this.setState({\n      teamName: e.target.value\n    });\n  }\n  \n  handleTeamNameSubmit = (e) => {\n    e.preventDefault();\n    let userTeams = createTeam(this.state.teamName);\n    this.setState({\n      userTeams: userTeams,\n      teamName: \"\",\n    });\n  }\n\n  changeCurrentTeam = (index) => {\n    this.setState({\n      currentTeamIndex: index\n    })\n  }\n\n\n  render() {\n    const { orderedPlayers, players } = this.props;\n    const headers = [\"GOALKEEPERS\", \"DEFENDERS\", \"MIDFIELDERS\", \"FORWARDS\"];\n    return (\n      <div>\n        {\n          (this.state.userTeams.length === 0) ? \n          // TODO: create this into a popup\n          <div>\n            Create a team\n            <form onSubmit={this.handleTeamNameSubmit}>\n              <label>\n                Team name:\n                <input type=\"text\" name=\"teamName\" value={this.state.teamName} onChange={this.handleTeamNameChange} />\n              </label>\n              <input type=\"submit\" value=\"Submit\" />\n            </form>\n          </div> : \n          // if there are players in the user team, render the table\n          <>\n            <div style={styles.teamInfo}>\n              <div>\n                Teams:\n                {this.state.userTeams.map((team, index) => {\n                  if (index === this.state.currentTeamIndex) {\n                    return (\n                      <button key={\"navbar-\" + team[\"name\"]} style={Object.assign({}, styles.teamButton, styles.selectedTeam)} onClick={() => this.changeCurrentTeam(index)}>\n                        {team[\"name\"]}\n                      </button>\n                    )\n                  } else {\n                    return (\n                      <button key={\"navbar-\" + team[\"name\"]} style={styles.teamButton} onClick={() => this.changeCurrentTeam(index)}>\n                        {team[\"name\"]}\n                      </button>\n                    )\n                  }\n                })}\n              </div>\n              <form style={styles.newTeamForm} onSubmit={this.handleTeamNameSubmit}>\n                <label>\n                  Add New Team\n                  <input type=\"text\" name=\"teamName\" value={this.state.teamName} onChange={this.handleTeamNameChange} />\n                </label>\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n            </div>\n            <div style={styles.teamSelection}>\n              {/* Display the current team selected */}\n              {this.state.userTeams[this.state.currentTeamIndex][\"players\"].map((positionGroup, index) => {\n                return (\n                  <div key={\"Current Team\" + headers[index]}>\n                    <table>\n                      <thead>\n                        <tr style={styles.headerRow}>\n                          <th style={styles.numberColumn}>Price</th>\n                          <th style={styles.numberColumn}>Points</th>\n                          <th style={styles.playerColumn}>Name</th>\n                          <th style={styles.fixturesColumn}>{headers[index]}</th>\n                          <th style={styles.numberColumn}></th>\n                        </tr>\n                      </thead>\n                      <tbody style={styles.tableBody}>\n                        {positionGroup.map((player, index) => {\n                          return (\n                            <tr key={player[\"player_id\"]} style={index % 2 === 0 ? styles.evenRow : styles.oddRow}>\n                              <td>{player[\"now_cost\"]}</td>\n                              <td>{player[\"total_points\"]}</td>\n                              <th>{player[\"web_name\"]}</th>\n                              {/* TODO: Don't put a td inside of a td */}\n                              <td>\n                                <div>\n                                  <table>\n                                    <tbody>\n                                      <tr>\n                                        {player[\"upcoming_fixtures\"].map((weekArray, index) => {\n                                          return (\n                                            <Cell\n                                              weekArray={weekArray}\n                                              key={`${player[\"web_name\"]}-${index}`}\n                                            />\n                                          )\n                                        })}\n                                      </tr>\n                                    </tbody>\n                                  </table>\n                                </div>\n                              </td>\n                              <td style={styles.buttonPadding}>\n                                <button style={Object.assign({}, styles.circleButton, styles.red)} id={player[\"player_id\"]} onClick={this.removePlayerFromUserTeam}>\n                                  -\n                                </button>\n                              </td>\n                            </tr>\n                          )\n                        })}\n                      </tbody>\n                    </table>\n                  </div>\n                )\n              })}\n            </div>\n            <div style={styles.playerSelectionArea}>\n              {orderedPlayers.map((playerList, index) => {\n                return (\n                  <div key={\"playerList\" + index}>\n                    <div style={styles.playerHeader}>{headers[index]}</div>\n                    <table style={styles.tableBody}>\n                      <thead style={styles.headerRow}>\n                        <tr>\n                          <th style={styles.playerColumn}>Name</th>\n                          <th style={styles.numberColumn}>Points</th>\n                          <th style={styles.numberColumn}>Cost</th>\n                          <th style={styles.numberColumn}></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {playerList.map((playerId, index) => {\n                          return (\n                            <tr key={\"addPlayer\" + playerId} id={\"addPlayer\" + playerId} style={index % 2 === 0 ? styles.evenRow : styles.oddRow}>\n                                <td style={styles.alignLeft}>{players[playerId][\"web_name\"]}</td>\n                                <td>{players[playerId][\"total_points\"]}</td>\n                                <td>{players[playerId][\"now_cost\"]}</td>\n                                <td style={styles.buttonPadding}>\n                                  <button style={Object.assign({}, styles.circleButton, styles.green)} id={playerId} onClick={this.addPlayerToUserTeam}>\n                                    + \n                                  </button>\n                                </td>\n                            </tr>\n                          )\n                        })}\n                      </tbody>\n                    </table>          \n                  </div>\n                )\n              })}\n            </div>\n          </>\n        }\n      </div>\n    )\n  }\n}\n\nexport default UserTeam;\n\nconst styles = {\n  teamInfo: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingBottom: 0,\n    marginBottom: 0,\n  },\n  newTeamForm: {\n    float: \"right\",\n  },\n  teamSelection: {\n    paddingTop: 0,\n    marginTop: 0,\n  },\n  teamButton: {\n    background: \"white\",\n    border: \"none\",\n    cursor:\"pointer\",\n    overflow: \"hidden\",\n    outline:\"none\",\n    marginLeft: \"2px\",\n    height: \"100%\",\n  },\n  selectedTeam: {\n    background: \"silver\",\n    fontWeight: \"bold\",\n  },\n  tableBody: {\n    textAlign: \"center\",\n    verticalAlign: \"center\",\n  },\n  headerRow: {\n    background: \"silver\",\n    height: \"30px\",\n  },\n  evenRow: {\n    background: \"gainsboro\",\n  },\n  oddRow: {\n    background: \"whitesmoke\",\n  },\n  numberColumn: {\n    width: \"45px\",\n  },\n  playerColumn: {\n    width: \"130px\",\n  },\n  fixturesColumn: {\n    width: \"65%\",\n  },\n  buttonPadding: {\n    padding: \"10px\",\n  },\n  circleButton: {\n    height: \"20px\",\n    width: \"20px\",\n    borderRadius: \"20px\",\n    cursor: \"pointer\",\n  },\n  red: {\n    background: \"rgb(247, 166, 166)\",\n  },\n  green: {\n    background: \"rgb(114, 235, 118)\",\n  },\n  playerHeader: {\n    textAlign: \"center\",\n    background: \"silver\",\n    height: \"40px\",\n    paddingTop: \"10px\",\n    fontWeight: \"bold\",\n  },\n  playerSelectionArea: {\n    marginTop: \"50px\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  alignLeft: {\n    textAlign: \"left\",\n    paddingLeft: \"5px\"\n  }\n}","import { FIXTURES_URL } from './consts';\n\nexport const updateTeamInfo = (teams, responseObject) => {\n  console.log(\"STARTING TO UPDATE TEAM INFO\");\n  return fetch(FIXTURES_URL)\n  .then((response) => {\n    if (!response.ok) throw Error(response.statusText);\n    return response.json();\n  })\n  .then((data) => {\n    return handleFixtures(data, teams, responseObject);\n  })\n  .catch((error) => console.log(error)); // eslint-disable-line no-console\n}\n\nconst handleFixtures = (fixtures, teams, responseObject) => {\n  console.log(\"STARTING TO HANDLE FIXTURES\");\n  for (let fixture in fixtures) {\n    fixture = fixtures[fixture];\n    const isFinished = fixture[\"finished\"];\n  \n    // if a match is postponed, the event will be null. We only want to add games that are being played\n    if (fixture[\"event\"] != null) {\n      const gameweek = parseInt(fixture[\"event\"]); // gameweek is 1-indexed, but so is upcomingGameweek\n      const homeId = fixture[\"team_h\"];\n      const awayId = fixture[\"team_a\"];\n      /* \n        If the gameweek of the fixture is before the upcoming gameweek,\n        add it to the previous matches segment. If not, add it to the future opponents segment.\n        Note: Just because gameweek < upcomingGameweek does not mean the game has been played yet.\n        If it is Saturday morning on gameweek 15, then upcomingGameweek will equal 16.\n        However, a majority of the games in gameweek 15 will not have been played yet.\n        I am using upcomingGameweek rather than currentGameweek because once the deadline has\n        passed for gameweek 15, an owner cannot change his team for that gameweek.\n        Only gameweek 16 and on is important in this example\n      */\n      const segment = gameweek < responseObject[\"upcoming_gameweek\"] ? \"previous_opponents\" : \"future_opponents\";\n\n      // add fixtures\n      teams[homeId][segment][gameweek].push(awayId);\n      teams[awayId][segment][gameweek].push(homeId);\n\n      // if the fixture is finished, add the scores for the two team's gf and ga\n      if (isFinished) {\n        const homeScore = fixture[\"team_h_score\"];\n        const awayScore = fixture[\"team_a_score\"];\n        teams[homeId][\"gf\"] += homeScore;\n        teams[homeId][\"ga\"] += awayScore;\n        teams[awayId][\"gf\"] += awayScore;\n        teams[awayId][\"ga\"] += homeScore;\n      }\n    }\n  }\n  return teams;\n};","export const handlePlayers = (players) => {\n  let playerList = [[],[],[],[]] // 1 list for each position that will store the order of the player Ids (GK, DEF, MID, FWD)\n  let playerDict = {}\n  for (let player in players) {\n    player = players[player];\n    playerDict[player[\"id\"]] = {\n      \"team_id\": player[\"team\"], // fixtures uses team instead of team_code\n      \"web_name\": player[\"web_name\"],\n      \"element_type\": player[\"element_type\"],\n      \"total_points\": player[\"total_points\"],\n      \"player_id\": player[\"id\"],\n      \"now_cost\": handleCost(player[\"now_cost\"]),\n    }\n    playerList[player[\"element_type\"]-1].push({\"player_id\": player[\"id\"], \"total_points\": player[\"total_points\"]})\n  }\n\n  // Sort the players by points and return sorted arrays of player_ids\n  for (let i = 0; i < playerList.length; ++i) {\n    playerList[i].sort((a,b) => b[\"total_points\"] - a[\"total_points\"])\n    playerList[i] = playerList[i].map(player => {\n      return player[\"player_id\"]\n    })\n  }\n  return {playerDict, playerList};\n}\n\n// turn \"125\" into \"12.5\" or \"67\" into \"6.7\"\nfunction handleCost(cost) {\n  cost = cost.toString();\n  const lastIndex = cost.length - 1;\n  return cost.substring(0, lastIndex) + \".\" + cost.substring(lastIndex, cost.length);\n}","// for now, just returns the current gameweek (is_current = true)\n// the id of the gameweek is 1-indexed (1-38)\nexport const handleEvents = (weeks) => {\n  for (const week of weeks) {\n    if (week[\"is_next\"] === true) {\n      return week[\"id\"];\n    }\n  }\n  console.error(\"handleEvents has not found the current gameweek\");\n  console.error(\"I have not error handled the first or last week of the season as I'm not sure how FPL sends the data\");\n  return 1;\n}\n\nexport const handleTeams = (teams, upcomingGameweek) => {\n  let teamDict = {};\n  for (const team in teams) {\n    let teamId = teams[team][\"id\"];\n    teamDict[teamId] = {\n      \"team_id\": teamId,\n      \"short_name\": teams[team][\"short_name\"],\n      \"gf\": 0,\n      \"ga\": 0,\n      \"previous_opponents\": {},\n      \"future_opponents\": {}\n    };\n\n    // This will initialize all of the arrays to handle blank and double gameweeks\n    for (let i = 1; i < upcomingGameweek; ++i) {\n      teamDict[teamId][\"previous_opponents\"][i] = [];\n    }\n    for (let i = upcomingGameweek; i < 39; ++i) {\n      teamDict[teamId][\"future_opponents\"][i] = [];\n    }\n  }\n  return teamDict;\n}","import { BACKEND_DATA_KEY } from \"./consts\";\nimport { createUserTeamsDisplay } from \"./userTeam\";\n\nconst ColorBarsType = {\n  HIGH_GOOD: 1,\n  LOW_GOOD: 2\n};\nconst greenHue = 122;\nconst greenSat = 75;\nconst maxGreenLightness = 75;\nconst minGreenLightness = 35;\nconst redHue = 0;\nconst redSat = 84;\nconst maxRedLightness = 85;\nconst minRedLightness = 54;\n\nexport const createDisplays = (teams, responseObject) => {\n  // create the goals for and goals against arrays using the teams object\n  let gfArray = [];\n  let gaArray = [];\n  for (const team in teams) {\n    gfArray.push(teams[team][\"gf\"]);\n    gaArray.push(teams[team][\"ga\"]);\n  }  \n  gfArray.sort((a, b) => a - b); // a - b sorts in ascending order (b - a for descending)\n  gaArray.sort((a, b) => a - b);\n  const medianGf = (gfArray[9] + gfArray[10]) / 2; // 20 teams so take the middle of 9th and 10th team (0-indexed)\n  const medianGa = (gaArray[9] + gaArray[10]) / 2;\n\n  // To create the constant factor for all displays,\n  // we need to first figure out the largest differnece between max/min and the respective median\n  const gfMaxDistanceFromMedian = Math.max(medianGf - gfArray[0], gfArray[19] - medianGf);\n  const gaMaxDistanceFromMedian = Math.max(medianGa - gaArray[0], gaArray[19] - medianGa);  \n\n  responseObject[\"defenders_display\"] = [];\n  responseObject[\"attackers_display\"] = [];\n\n  for (let team in teams) {\n    team = teams[team];\n\n    let defendersDisplay = {};\n    let attackersDisplay = {};\n\n    defendersDisplay[\"short_name\"] = team[\"short_name\"];\n    attackersDisplay[\"short_name\"] = team[\"short_name\"];\n\n    let defendersUpcomingFixtures = []; // used for defenders display\n    let attackersUpcomingFixtures = []; // used for attackers display\n    for (const week in team[\"future_opponents\"]) {\n      let defendersWeekArray = [];\n      let attackersWeekArray = [];\n      team[\"future_opponents\"][week].forEach(oppId => {\n        const oppGf = teams[oppId][\"gf\"];\n        const oppGa = teams[oppId][\"ga\"];\n        let defenderGameObject = {\n          \"value\": oppGf,\n          \"color\": getColor(oppGf, medianGf, gfMaxDistanceFromMedian, ColorBarsType.LOW_GOOD)\n        }\n        let attackerGameObject = {\n          \"value\": oppGa,\n          \"color\": getColor(oppGa, medianGa, gaMaxDistanceFromMedian, ColorBarsType.HIGH_GOOD)\n        }\n        defendersWeekArray.push(defenderGameObject);\n        attackersWeekArray.push(attackerGameObject);\n      })\n      defendersUpcomingFixtures.push(defendersWeekArray);\n      attackersUpcomingFixtures.push(attackersWeekArray);\n    }\n    defendersDisplay[\"upcoming_fixtures\"] = defendersUpcomingFixtures;\n    attackersDisplay[\"upcoming_fixtures\"] = attackersUpcomingFixtures;\n\n    defendersDisplay[\"goals\"] = {\n      \"value\": team[\"ga\"],\n      \"color\": getColor(team[\"ga\"], medianGa, gaMaxDistanceFromMedian, ColorBarsType.LOW_GOOD)\n    };\n    attackersDisplay[\"goals\"] = {\n      \"value\": team[\"gf\"],\n      \"color\": getColor(team[\"gf\"], medianGf, gfMaxDistanceFromMedian, ColorBarsType.HIGH_GOOD)\n    };\n\n    responseObject[\"defenders_display\"].push(defendersDisplay);\n    responseObject[\"attackers_display\"].push(attackersDisplay);\n  }\n  // write backend object to local storage / db\n  localStorage.setItem(BACKEND_DATA_KEY, JSON.stringify(responseObject));\n  \n  responseObject[\"user_teams\"] = createUserTeamsDisplay();\n  return responseObject;\n}\n\nfunction getColor(goals, medianGoals, maxDistanceFromMedian, colorBarsType) {\n  let lightness;\n  let sat;\n  let hue;\n  if (Math.abs(medianGoals - goals) <= 0.5) { // color white\n    hue = 100;\n    sat = 100;\n    lightness = 100;\n  } else if ((goals > medianGoals && colorBarsType === ColorBarsType.HIGH_GOOD) ||\n      (goals < medianGoals && colorBarsType === ColorBarsType.LOW_GOOD)) { // color green\n    // close to median = close to white = maxGreenLightness\n    // far from median = darker color = minGreenLightness\n    // we need to figure out the value (lightnessConstant) at which the furthest value away from the median will achieve the darkest color we want\n    // maxGreenLightness - (lightnessConstant * medianDistance) = minGreenLightness\n    let lightnessConstant = (maxGreenLightness - minGreenLightness) / maxDistanceFromMedian;\n    hue = greenHue;\n    sat = greenSat;\n    lightness = maxGreenLightness - (Math.abs(goals - medianGoals) * lightnessConstant)\n  } else { // color red\n    let lightnessConstant = (maxRedLightness - minRedLightness) / maxDistanceFromMedian;\n    hue = redHue;\n    sat = redSat;\n    lightness = maxRedLightness - (Math.abs(goals - medianGoals) * lightnessConstant)\n  }\n  return `hsl(${hue}, ${sat}%, ${lightness}%)`\n}","import { updateTeamInfo } from './fixtures';\nimport { handlePlayers } from './players';\nimport { handleEvents, handleTeams } from './bootstrap';\nimport { createDisplays } from './displays';\nimport { createUserTeamsDisplay } from './userTeam';\nimport { BACKEND_DATA_KEY, BOOTSTRAP_URL, FIXTURES_URL, UPDATE_TIMES_KEY } from './consts';\n\nexport const fetchData = () => {\n  // Check if there is an UPDATE_TIMES array for the user\n  // this will be the array to determine whether the data is stale in the future\n  let updateTimes = localStorage.getItem(UPDATE_TIMES_KEY);\n  if (updateTimes === null) {\n    // if there is not an UPDATE_TIMES array, we need to generate one\n    updateTimes = createGameweekSchedule();\n  }\n\n  let backendData = localStorage.getItem(BACKEND_DATA_KEY);\n  // We need to call the api if we either don't have any backend data or the data is stale\n  if (backendData === null || isBackendDataStale(JSON.parse(updateTimes))) {\n    console.log(\"FETCHING BACKEND DATA\");\n    let responseObject = {};\n    return fetch(BOOTSTRAP_URL)\n    .then((response) => {\n      console.log(response)\n      if (!response.ok) throw Error(response.statusText);\n      return response.json();\n    })\n    .then((data) => {\n      const upcomingGameweek = handleEvents(data[\"events\"]);\n      let teams = handleTeams(data[\"teams\"], upcomingGameweek);\n      const handlePlayersObj = handlePlayers(data[\"elements\"], upcomingGameweek);\n      responseObject[\"ordered_players\"] = handlePlayersObj[\"playerList\"];\n      responseObject[\"players\"] = handlePlayersObj[\"playerDict\"];\n      responseObject[\"upcoming_gameweek\"] = upcomingGameweek;\n      return updateTeamInfo(teams, responseObject);\n    })\n    .then((teams) => {\n      return createDisplays(teams, responseObject);\n    })\n    .catch((error) => console.log(error))\n  } else { // if we already have data, we will return that data as the response object\n    return new Promise(function(resolve, reject) {\n      let responseObject = JSON.parse(backendData);\n      responseObject[\"user_teams\"] = createUserTeamsDisplay();\n      resolve(responseObject);\n      reject(refreshData);\n    })\n  }\n}\n\nfunction isBackendDataStale(updateTimes) {\n  let now = new Date();\n  const nextUpdate = new Date(updateTimes[0]);\n  if (nextUpdate > now) { // if we have not reached the next update time, the data is not stale\n    return false;\n  } else { // the data is stale\n    // remove all dates from updateTimes that are before now\n    // (there could be more than one date that needs to be removed if the user hasn't visited the site in awhile)\n    for (let i = 0; i < updateTimes.length; ++i) {\n      const testDate = new Date(updateTimes[i])\n      if (testDate > now) {\n        // remove all dates before i\n        let newUpdateTimes = updateTimes.slice(i, updateTimes.length)\n        localStorage.setItem(UPDATE_TIMES_KEY, JSON.stringify(newUpdateTimes))\n        break;\n      }\n    }\n    return true;\n  }\n}\n\nexport const refreshData = () => {\n  let responseObject = {};\n  return fetch(BOOTSTRAP_URL)\n  .then((response) => {\n    if (!response.ok) throw Error(response.statusText);\n    return response.json();\n  })\n  .then((data) => {\n    const upcomingGameweek = handleEvents(data[\"events\"]);\n    let teams = handleTeams(data[\"teams\"], upcomingGameweek);\n    const handlePlayersObj = handlePlayers(data[\"elements\"], upcomingGameweek);\n    responseObject[\"ordered_players\"] = handlePlayersObj[\"playerList\"];\n    responseObject[\"players\"] = handlePlayersObj[\"playerDict\"];\n    responseObject[\"upcoming_gameweek\"] = upcomingGameweek;\n    return updateTeamInfo(teams, responseObject);\n  })\n  .then((teams) => {\n    return createDisplays(teams, responseObject);\n  })\n  .catch((error) => console.log(error))\n}\n\n// This function will create an array of all future gamedays\n// It will then store this array in local storage\n// This array will then be used to check whether or not to call the backend api\nfunction createGameweekSchedule() {\n  fetch(FIXTURES_URL)\n  .then((response) => {\n    if (!response.ok) throw Error(response.statusText);\n    return response.json();\n  })\n  .then((fixtures) => {\n    let updateTimes = {}\n    let now = new Date();\n    fixtures.forEach(fixture => {\n      if (fixture[\"kickoff_time\"] !== null) {\n        let dateString = fixture[\"kickoff_time\"];\n        // set the dateString to be 9:00pm of that day (the premier league site)\n        dateString = dateString.split(\"T\")[0] + \"T21:00:00\"\n        const fixtureDate = new Date(dateString)\n        if (fixtureDate > now) {\n          updateTimes[fixtureDate] = null // dictionary's are easier to work with than sets in js\n        }\n      }\n    })\n    localStorage.setItem(UPDATE_TIMES_KEY, JSON.stringify(Object.keys(updateTimes).sort((a, b) => Date(a) < Date(b))));\n    return Object.keys(updateTimes).sort((a, b) => Date(a) < Date(b))\n})}","import React, { Component } from \"react\";\nimport Table from \"./Table.js\";\nimport Home from \"./Home.js\";\nimport Header from \"./Header.js\";\nimport UserTeam from \"./UserTeam\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { fetchData } from './backend/getFormData';\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      defendersDisplay: [],\n      attackersDisplay: [],\n      players: {},\n      orderedPlayers: [],\n      upcomingGameweek: 1,\n      view: \"Home\",\n      loading: true,\n      // isMobile: false\n    };\n  }\n\n  componentDidMount() {\n    fetchData().then(res => {\n      console.log(res);\n      this.setState({\n        defendersDisplay: res[\"defenders_display\"],\n        attackersDisplay: res[\"attackers_display\"],\n        upcomingGameweek: res[\"upcoming_gameweek\"],\n        players: res[\"players\"],\n        orderedPlayers: res[\"ordered_players\"],\n        userTeams: res[\"user_teams\"],\n        loading: false,\n        // isMobile: (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1)\n      });\n    })\n  }\n\n  selectView = (event) => {\n    event.preventDefault();\n    this.setState({\n      view: event.target.title,\n    });\n  };\n\n  showDisplay = () => {\n    const mainFeaturedPost = {\n      title: \"FPL Scheduling Tool\",\n      description:\n        \"This tool shows the goals for and against, rather than the opponent they are playing\",\n      imgText: \"\",\n      linkText: \"\",\n    };\n\n    return this.state.loading ? (\n      <div>Loading</div>\n    ) : this.state.view === \"Defenders\" ? (\n      <Table\n        display={this.state.defendersDisplay}\n        upcomingGameweek={this.state.upcomingGameweek}\n        type=\"DEFENDERS\"\n      />\n    ) : this.state.view === \"Attackers\" ? (\n      <Table\n        display={this.state.attackersDisplay}\n        upcomingGameweek={this.state.upcomingGameweek}\n        type=\"ATTACKERS\"\n      />\n    ) : this.state.view === \"Home\" ? (\n      <Home post={mainFeaturedPost} refreshData={this.refresh} />\n    ) : this.state.view === \"Team\" ? (\n      <UserTeam\n        orderedPlayers={this.state.orderedPlayers}\n        players={this.state.players}\n      />\n    ) : (\n      <div>Error</div>\n    );\n  };\n\n  renderDesktopScreen = () => {\n    const sections = [\n      { title: \"Home\", onClick: this.selectView },\n      { title: \"Defenders\", onClick: this.selectView },\n      { title: \"Attackers\", onClick: this.selectView },\n      { title: \"Team\", onClick: this.selectView }\n    ];\n\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <Container maxWidth=\"lg\">\n          <Header title=\"FPL Tool\" sections={sections} />\n          {this.showDisplay()}\n        </Container>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    return this.renderDesktopScreen();\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nlet displayUrl = \"http://127.0.0.1:5000/mainDisplays\";\n\nReactDOM.render(\n  <App displayUrl={displayUrl} />,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}